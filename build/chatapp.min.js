/*! chatserver 2014-02-20 */
angular.module("ChatApp").controller("HomeCtrl",["$scope","$routeParams","$location",function(a){function b(){socket.emit("rooms")}a.chatRooms,b(),socket.on("roomlist",function(b){a.chatRooms=b,console.log(a.chatRooms),a.$apply()})}]),angular.module("ChatApp").controller("LoginCtrl",["$scope","$location",function(a,b){a.userName="",a.errorMessage,a.connect=function(){socket.emit("adduser",a.userName,function(c){c?""===a.userName?(a.errorMessage="Please select a user name",a.$apply()):(console.log("Name available"),a.errorMessage="",b.path("/Home"),a.$apply()):(console.log("Some error"),""===a.userName?(a.errorMessage="Please select a user name",a.$apply()):(a.errorMessage="That user name is already taken",a.$apply()))})}}]),angular.module("ChatApp",["ngRoute"]);var socket=io.connect("http://localhost:8080");angular.module("ChatApp").config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/Login.html",controller:"LoginCtrl"}).when("/Home",{templateUrl:"views/Home.html",controller:"HomeCtrl"}).otherwise({redirectTo:"/"})}]);